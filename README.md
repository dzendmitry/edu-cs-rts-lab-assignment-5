---
title:    Системы реального времени
subtitle: Лабораторная работа
author:   Алексей Найденов
date:     Тула, 2014
---
# Лабораторная работа

# Подготовительные задачи

1. Сделать форк репозитория на github
2. Получить рабочую копию

    $ git clone ssh://git@github.com/user/edu-cs-rts-lab-assignment-5 lab-5

3. Убедиться, что все исходные файлы собираются

    $ make all

# Запуск задачи реального времени

1. Собрать и запустить `lab-5-1`:

    $ make run-lab-5-1

2. Документировать код. Например:

~~~{.c}
   // Инициализировать подсистему печати xenomai
   rt_print_auto_init(1);
~~~

# Запуск нескольких задач реального времени и синхронизация

1. Собрать и запустить `lab-5-2`:

    $ make run-lab-5-2

2. Используя семафоры Xenomai, сделать так, чтобы задачи стартовали
   одновременно после запуска. То есть, чтобы текст "Task ... started..."
	 выводился после текста "All tasks started"

# Взаимное исключение в критической секции

1. Собрать и запустить `lab-5-3` несколько раз.
2. Проинтерпретировать результат. Показать критическую секцию.
3. Используя мьютекс Xenomai, реализовать взаимное исключение задач
   в критической секции.

# Бонус-задача (дополнительные 8 баллов)

1. Используя `lab-5-3.c` как шаблон, сделать файл `lab-5-4.c` и реализовать
   взаимное исключение в критической секции

# Литература

[http://www.xenomai.org/documentation/trunk/html/api/group__native.html](Документация на API Xenomai)
[https://gcc.gnu.org/onlinedocs/gcc-4.1.2/gcc/Atomic-Builtins.html](Описание GCC Atomic Built-in Operations)
